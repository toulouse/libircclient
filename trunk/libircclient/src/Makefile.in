# $Id$
CC = @CC@
CFLAGS = -Wall -DIN_BUILDING_LIBIRC @CFLAGS@
AR=@AR@ cr
RANLIB=@RANLIB@
INCLUDES=-I../include
DESTDIR=


OBJS = libircclient.o

all:	lib

lib:	libircclient.a

install: lib
	-mkdir -p $(DESTDIR)@prefix@/include
	-mkdir -p $(DESTDIR)@prefix@/lib
	cp ../include/libircclient.h $(DESTDIR)@prefix@/include/libircclient.h
	cp ../include/libirc_errors.h $(DESTDIR)@prefix@/include/libirc_errors.h
	cp ../include/libirc_events.h  $(DESTDIR)@prefix@/include/libirc_events.h 
	cp ../include/libirc_options.h  $(DESTDIR)@prefix@/include/libirc_options.h 
	cp libircclient.a $(DESTDIR)@prefix@/lib/libircclient.a
	cd $(DESTDIR)@prefix@/lib && ln -s libircclient.a libirc.a

libircclient.a: libircclient.o
	$(AR) libircclient.a libircclient.o
	$(RANLIB) libircclient.a

clean:
	rm -f libircclient.a libircclient.o

distclean: clean
	-rm -f Makefile

.c.o:
	$(CC) $(CFLAGS) $(INCLUDES) -c -o $@ $<
